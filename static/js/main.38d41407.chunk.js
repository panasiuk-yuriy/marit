(this.webpackJsonpmarit=this.webpackJsonpmarit||[]).push([[0],{82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n(10),i=n.n(r),s=n(19),l=(n(82),"SAVE_DATA"),j="DELETE_PERSON",o="CHANGE_PERSON_NAME",d="ADD_NEW_PERSON",b=function(){return function(e){var t=new WebSocket("ws://testapi.marit.expert:3004");t.onopen=function(){t.send({cmd:"get_list"})},t.onmessage=function(t){var n=JSON.parse(t.data);e(function(e){return{type:l,payload:e}}(n))}}},u=n(27),O=n(129),h=n(133),m=n(135),f=n(128),x=n(127),p=n(136),v=function(e){var t=e.isEdit,n=e.text,r=e.type,i=e.name,s=e.handleSave,l=e.handleClose,j=Object(c.useState)(i||""),o=Object(u.a)(j,2),d=o[0],b=o[1],v=Object(c.useState)(!1),E=Object(u.a)(v,2),N=E[0],y=E[1],_=function(){b(i),l()};return Object(a.jsx)("div",{children:Object(a.jsxs)(m.a,{open:t,onClose:_,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(p.a,{id:"form-dialog-title",children:n}),Object(a.jsx)(x.a,{children:Object(a.jsx)(h.a,{error:N,helperText:N?"Field must'n be empty":null,autoFocus:!0,id:"name",label:"New Name",fullWidth:!0,value:d,onChange:function(e){return t=e.target.value,b(t),void y(!1);var t}})}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(O.a,{onClick:_,color:"primary",children:"Cancel"}),Object(a.jsx)(O.a,{onClick:function(){0!==d.length?(s(d),"addNew"===r&&b("")):y(!0)},color:"primary",children:"Save"})]})]})})},E=n(137),N=n(130),y=n(62),_=n.n(y),S=n(61),g=n.n(S),C=n(60),w=n.n(C),k=function(e){var t=e.item,n=Object(s.b)(),r=Object(c.useState)(!1),i=Object(u.a)(r,2),l=i[0],d=i[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"person",children:[Object(a.jsxs)("div",{className:"person__info",children:[Object(a.jsx)(E.a,{children:Object(a.jsx)(w.a,{})}),Object(a.jsx)("p",{children:t.name})]}),Object(a.jsxs)("div",{className:"person__controls",children:[Object(a.jsx)(N.a,{edge:"end","aria-label":"delete",onClick:function(){d(!0)},children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(N.a,{edge:"end","aria-label":"delete",onClick:function(){return n((e=t.id,{type:j,payload:e}));var e},children:Object(a.jsx)(_.a,{})})]})]}),Object(a.jsx)(v,{isEdit:l,text:"Change the ".concat(t.name),name:t.name,handleSave:function(e){n(function(e,t){return{type:o,id:e,payload:t}}(t.id,e)),d(!1)},handleClose:function(){d(!1)}})]})},A=n(131),D=n(63),T=n.n(D),F=function(e){var t=e.race,n=e.raceList,r=Object(s.b)(),i=Object(c.useState)(!1),l=Object(u.a)(i,2),j=l[0],o=l[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"column__top",children:[Object(a.jsx)("h3",{className:"header",children:t}),Object(a.jsx)(A.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return o(!0)},children:Object(a.jsx)(T.a,{})})]}),Object(a.jsx)(v,{type:"addNew",isEdit:j,text:"Add new ".concat(t),handleClose:function(){o(!1)},handleSave:function(e){r(function(e,t){return{type:d,race:e,name:t}}(t,e)),o(!1)}}),n.map((function(e){return t===e.race?Object(a.jsx)(k,{item:e},e.id):null}))]})},L=function(e){return e.list},P=n(132),R=["Hobbit","Human","Dworf","Elf"],H=function(){var e=Object(s.c)(L);return 0===e.length?Object(a.jsx)(P.a,{}):Object(a.jsx)("div",{className:"container",children:R.map((function(t){return Object(a.jsx)("div",{className:"column",children:Object(a.jsx)(F,{race:t,raceList:e})},t)}))})},J=(n(84),function(){var e=Object(s.b)();return Object(c.useEffect)((function(){e(b())}),[e]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(H,{})})}),W=n(33),I=n(64),M=n(50),V=n(16),X={list:[]};var z=[I.a],B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.c,G=Object(W.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=t.payload;return Object(V.a)(Object(V.a)({},e),{},{list:[].concat(Object(M.a)(e.list),Object(M.a)(n))});case j:var a=t.payload;return Object(V.a)(Object(V.a)({},e),{},{list:e.list.filter((function(e){return e.id!==a}))});case o:var c=t.payload,r=t.id;return Object(V.a)(Object(V.a)({},e),{},{list:e.list.map((function(e){return e.id===r?Object(V.a)(Object(V.a)({},e),{},{name:c}):e}))});case d:var i=t.race,s=t.name,b={id:Date.now(),name:s,race:i};return Object(V.a)(Object(V.a)({},e),{},{list:[].concat(Object(M.a)(e.list),[b])});default:return e}}),B(W.a.apply(void 0,z))),U=function(){return Object(a.jsx)(s.a,{store:G,children:Object(a.jsx)(J,{})})};i.a.render(Object(a.jsx)(U,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.38d41407.chunk.js.map